---
- name: Application maintenance playbook
  hosts: all
  become: true
  gather_facts: false
  tasks:
    - name: Start the application services
      include_tasks: start.yml
      when: action == 'start'

    - name: Stop the application services
      include_tasks: stop.yml
      when: action == 'stop'
      
    - name: Upgrade the application
      include_tasks: upgrade.yml
      when: action == 'upgrade'
      
    - name: checking the disk of the nodes
      include_tasks: disk.yml
      when: action == 'disk'
      
    - name: Patching the application services
      include_tasks: patch.yml
      when: action == 'patch'

    - name: rollback the application to previous state
      include_tasks: rollback.yml
      when: action == 'rollback'
